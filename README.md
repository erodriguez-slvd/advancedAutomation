<!-- PROJECT LOGO -->
<div align="center">
  <h1 align="center">Advanced Automation Java</h1>
  <p align="center">IRetryAnalyzer</p>
</div>

<!-- TABLE OF CONTENTS -->
  <summary>Table of Contents</summary>
  <ol>
    <li><a href="#about-the-project">About The Project</a></li>
    <li><a href="#built-with">Built With</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#installation">Installation</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#implementation">Implementation Details</a></li>
    <li><a href="#useful documentation">Useful Documentation</a></li>
  </ol>

## About The Project
The project focuses on the implementation of IRetryAnalyzer interface on primitive tests which fail on purpose.

### Built With
* Programming Language: Java
* Frameworks: Selenium Web Driver
* Reporting Tools: Zebrunner

### Prerequisites
- [ ] Install Java +11
- [ ] Download chromedriver and selenium server standalone
- [ ] Install Jenkins

### Installation
- [ ] Download chromedriver for your Chrome browser version, save it in Downloads.
- [ ] Download selenium-server-standalone-3.141.59.jar, save it in Downloads.
- [ ] Clone the repo.
- [ ] Run selenium standalone opening a new terminal in Downloads and run this command: java -jar selenium-server-standalone-3.141.59.jar
- [ ] Modify the -config.properties file with browser-name and version.
- [ ] Add a _testdata.properties file with TestRail's credentials data (testRailUrl, testRailUsername, testRailPassword).

## Usage
- [ ] Run tests from testng.xml files to create automatically a test run in TestRail.

## Implementation details
### Study case: IRetryAnalyzer
- Every time tests fail in a suite, TestNG creates a file called testng-failed.xml in the output directory. This XML file contains the necessary information to rerun only these methods that failed, allowing you to quickly reproduce the failures without having to run the entirety of your tests. Sometimes, you might want TestNG to automatically retry a test whenever it fails. In those situations, you can use a retry analyzer.
1. Create a class and build an implementation of the interface org.testng.IRetryAnalyzer
```
import org.testng.IRetryAnalyzer;
import org.testng.ITestResult;
 
public class MyRetry implements IRetryAnalyzer {
 
  private int retryCount = 0;
  private static final int maxRetryCount = 3;
 
  @Override
  public boolean retry(ITestResult result) {
    if (retryCount < maxRetryCount) {
      retryCount++;
      return true;
    }
    return false;
  }
}
```
2. Go to you test class and bind this implementation to the @Test annotation for e.g., @Test(retryAnalyzer = Retry.class)
```
import org.testng.Assert;
import org.testng.annotations.Test;
 
public class TestclassSample {
  @Test(retryAnalyzer = MyRetry.class)
  public void test2() {
    Assert.fail();
  }
}
```
### Study case: TestNG Listeners
- To monitor and influence the progress of test executions. You can amplify test automation capabilities by customizing behavior, generating comprehensive reports, and implementing dynamic test management.
- First you have to create a listeners class and implement one of the interfaces that contains the methods you need. Then you have to add the annotation @Listeners(PackageName.ClassName.class) right before your test class.
- Another way to solve it is by the testng.xml file, instead of adding Listeners to each class, you can add a <listeners> tag and will implement listeners to the entire suite.
```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
 
<suite name="TestNG Listeners Suite" parallel="false">
   <listeners>
       <listener class-name="PackageName.ClassName" />
   </listeners>

   <test name="Test">
       <classes>
           <class name="PackageName.TestsClassName" />
       </classes>
   </test>
</suite>
 ```
1. ITestListener: Providing you with an easy to implement interface through a normal Java class, where the class overrides every method declared inside the ITestListener.
2. IReporter: provides an interface which helps you to customize the test report generated by TestNG. It provides generateReport method which would get invoked after execution of all the suites.

## Useful Documentation

* [Selenium](https://www.selenium.dev/documentation/overview/)
* [Selenium Github Example](https://github.com/SeleniumHQ/seleniumhq.github.io/tree/trunk/examples)
* [TestRail](https://support.gurock.com/hc/en-us)
* [TestNG](https://testng.org/doc/documentation-main.html)